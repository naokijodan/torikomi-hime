<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è©•ä¾¡å–å¾— å•é¡Œåˆ†æãƒ¬ãƒãƒ¼ãƒˆ</title>
  <style>
    :root {
      --primary: #3498DB;
      --success: #27AE60;
      --warning: #F39C12;
      --danger: #E74C3C;
      --dark: #2C3E50;
      --light: #ECF0F1;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
      background: #f5f7fa;
      padding: 20px;
      line-height: 1.8;
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
    }

    header {
      background: linear-gradient(135deg, #E74C3C, #C0392B);
      color: white;
      padding: 40px;
      border-radius: 16px;
      margin-bottom: 30px;
      text-align: center;
    }

    header h1 {
      font-size: 2em;
      margin-bottom: 10px;
    }

    .section {
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      margin-bottom: 30px;
      overflow: hidden;
    }

    .section-header {
      padding: 20px 30px;
      font-size: 1.3em;
      font-weight: bold;
      color: white;
    }

    .section-header.analysis { background: var(--danger); }
    .section-header.compare { background: var(--primary); }
    .section-header.solution { background: var(--success); }
    .section-header.debug { background: #9B59B6; }

    .section-body {
      padding: 30px;
    }

    /* å•é¡Œãƒ‘ã‚¿ãƒ¼ãƒ³ã‚«ãƒ¼ãƒ‰ */
    .problem-pattern {
      border: 2px solid #eee;
      border-radius: 12px;
      margin: 20px 0;
      overflow: hidden;
    }

    .problem-pattern-header {
      background: #FFF5F5;
      padding: 15px 20px;
      border-bottom: 2px solid #FFCDD2;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .problem-pattern-header .icon {
      font-size: 2em;
    }

    .problem-pattern-header h3 {
      color: var(--danger);
    }

    .problem-pattern-body {
      padding: 20px;
    }

    .problem-pattern-body h4 {
      color: var(--dark);
      margin: 15px 0 10px;
      padding-bottom: 5px;
      border-bottom: 1px solid #eee;
    }

    /* ã‚³ãƒ¼ãƒ‰è¡¨ç¤º */
    .code-example {
      background: #1E1E1E;
      color: #D4D4D4;
      padding: 20px;
      border-radius: 8px;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.9em;
      overflow-x: auto;
      margin: 15px 0;
    }

    .code-example .comment { color: #6A9955; }
    .code-example .string { color: #CE9178; }
    .code-example .keyword { color: #569CD6; }
    .code-example .number { color: #B5CEA8; }
    .code-example .function { color: #DCDCAA; }
    .code-example .highlight { background: #3A3D41; display: block; padding: 2px 0; }

    /* DOMæ§‹é€ å›³ */
    .dom-structure {
      background: #F8F9FA;
      border: 1px solid #DEE2E6;
      border-radius: 8px;
      padding: 20px;
      font-family: 'Monaco', monospace;
      font-size: 0.9em;
      white-space: pre;
      overflow-x: auto;
    }

    .dom-structure .tag { color: #E74C3C; }
    .dom-structure .attr { color: #27AE60; }
    .dom-structure .value { color: #3498DB; }
    .dom-structure .content { color: #666; }
    .dom-structure .highlight { background: #FFFDE7; }

    /* æ¯”è¼ƒãƒ†ãƒ¼ãƒ–ãƒ« */
    .compare-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }

    .compare-table th, .compare-table td {
      padding: 15px;
      text-align: left;
      border: 1px solid #eee;
    }

    .compare-table th {
      background: var(--light);
    }

    .compare-table .good { background: #E8F5E9; color: #2E7D32; }
    .compare-table .bad { background: #FFEBEE; color: #C62828; }

    /* ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ */
    .flowchart {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      padding: 20px;
      background: #F8F9FA;
      border-radius: 12px;
    }

    .flow-step {
      background: white;
      padding: 15px 30px;
      border-radius: 8px;
      border: 2px solid var(--primary);
      text-align: center;
      min-width: 300px;
    }

    .flow-step.success { border-color: var(--success); }
    .flow-step.fail { border-color: var(--danger); }
    .flow-step.fallback { border-color: var(--warning); background: #FFF8E1; }

    .flow-arrow {
      font-size: 1.5em;
      color: #666;
    }

    .flow-branch {
      display: flex;
      gap: 40px;
      align-items: flex-start;
    }

    .flow-branch-label {
      font-size: 0.9em;
      color: #666;
      margin-bottom: 5px;
    }

    /* ãƒãƒƒã‚¸ */
    .badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: bold;
    }

    .badge.critical { background: #FFEBEE; color: #C62828; }
    .badge.high { background: #FFF3E0; color: #E65100; }
    .badge.medium { background: #FFF8E1; color: #F57F17; }
    .badge.fixed { background: #E8F5E9; color: #2E7D32; }

    /* ã‚¢ãƒ©ãƒ¼ãƒˆãƒœãƒƒã‚¯ã‚¹ */
    .alert {
      padding: 20px;
      border-radius: 8px;
      margin: 15px 0;
    }

    .alert.info {
      background: #E3F2FD;
      border-left: 4px solid var(--primary);
    }

    .alert.warning {
      background: #FFF8E1;
      border-left: 4px solid var(--warning);
    }

    .alert.success {
      background: #E8F5E9;
      border-left: 4px solid var(--success);
    }

    /* ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ */
    .checklist {
      list-style: none;
    }

    .checklist li {
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }

    .checklist li::before {
      content: "â˜ ";
      color: var(--primary);
      font-size: 1.2em;
    }

    .checklist li.done::before {
      content: "â˜‘ ";
      color: var(--success);
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>è©•ä¾¡å–å¾— å•é¡Œåˆ†æãƒ¬ãƒãƒ¼ãƒˆ</h1>
      <p>ã¿ã¡ã‚ƒã£ãŸå› Ã— ã¨ã‚Šã“ã¿å› è©•ä¾¡å–å¾—ãƒ­ã‚¸ãƒƒã‚¯ã®è©³ç´°åˆ†æ</p>
      <p style="font-size: 0.9em; margin-top: 10px;">ä½œæˆæ—¥: 2025å¹´1æœˆ7æ—¥</p>
    </header>

    <!-- å•é¡Œã®æ¦‚è¦ -->
    <div class="section">
      <div class="section-header analysis">ğŸ“Š å•é¡Œã®æ¦‚è¦</div>
      <div class="section-body">
        <p>è©•ä¾¡å–å¾—ã«ãŠã„ã¦ä»¥ä¸‹ã®3ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å•é¡ŒãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ï¼š</p>

        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 20px;">
          <div style="background: #FFEBEE; padding: 20px; border-radius: 12px; text-align: center;">
            <div style="font-size: 2.5em;">0ï¸âƒ£</div>
            <h4 style="color: #C62828; margin: 10px 0;">è©•ä¾¡ãŒ0ã«ãªã‚‹</h4>
            <p style="font-size: 0.9em;">DOMè¦ç´ ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ</p>
          </div>
          <div style="background: #FFF3E0; padding: 20px; border-radius: 12px; text-align: center;">
            <div style="font-size: 2.5em;">âŒ</div>
            <h4 style="color: #E65100; margin: 10px 0;">æ•°å€¤ãŒé–“é•ã£ã¦ã„ã‚‹</h4>
            <p style="font-size: 0.9em;">è¿‘ãã®åˆ¥ã®æ•°å€¤ã‚’èª¤å–å¾—</p>
          </div>
          <div style="background: #FFF8E1; padding: 20px; border-radius: 12px; text-align: center;">
            <div style="font-size: 2.5em;">âš ï¸</div>
            <h4 style="color: #F57F17; margin: 10px 0;">å–å¾—ã§ããªã„ã‚±ãƒ¼ã‚¹</h4>
            <p style="font-size: 0.9em;">DOMæ§‹é€ ã®å¤‰åŒ–ã‚„é…å»¶</p>
          </div>
        </div>
      </div>
    </div>

    <!-- å•é¡Œãƒ‘ã‚¿ãƒ¼ãƒ³1 -->
    <div class="section">
      <div class="section-header analysis">ğŸ” å•é¡Œãƒ‘ã‚¿ãƒ¼ãƒ³1: è©•ä¾¡ä»¶æ•°ãŒ0ã«ãªã‚‹</div>
      <div class="section-body">

        <div class="problem-pattern">
          <div class="problem-pattern-header">
            <div class="icon">ğŸ¯</div>
            <div>
              <h3>åŸå› : DOMè¦ç´ ãŒå­˜åœ¨ã—ãªã„ / è¦‹ã¤ã‹ã‚‰ãªã„</h3>
              <span class="badge critical">ç™ºç”Ÿé »åº¦: é«˜</span>
            </div>
          </div>
          <div class="problem-pattern-body">

            <h4>ã¨ã‚Šã“ã¿å›ã®ç¾åœ¨ã®ãƒ­ã‚¸ãƒƒã‚¯</h4>
            <div class="code-example">
<span class="comment">// æ–¹æ³•1: ãƒ•ãƒªãƒã‚¢ã‚·ã‚¹ãƒˆä¾å­˜ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã¯å¤±æ•—ï¼‰</span>
<span class="keyword">const</span> assistRatings = document.<span class="function">querySelector</span>(<span class="string">"#furima-assist-seller-ratings"</span>);
<span class="keyword">if</span> (assistRatings) { ... } <span class="comment">// ãƒ•ãƒªãƒã‚¢ã‚·ã‚¹ãƒˆæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã ã¨ã‚¹ã‚­ãƒƒãƒ—</span>

<span class="comment">// æ–¹æ³•2: spanè¦ç´ æ¤œç´¢ï¼ˆã‚»ãƒ¬ã‚¯ã‚¿ãŒä¸æ­£ç¢ºï¼‰</span>
<span class="keyword">const</span> allSpans = document.<span class="function">querySelectorAll</span>(<span class="string">'[class*="Rating"] span'</span>);
<span class="comment">// â†‘ ã‚¯ãƒ©ã‚¹åã«Ratingã‚’å«ã‚€spanè¦ç´ ã‚’æ¢ã™ãŒã€ãƒ¡ãƒ«ã‚«ãƒªã§ã¯è©²å½“ã—ãªã„ã“ã¨ãŒã‚ã‚‹</span>

<span class="comment">// æ–¹æ³•3: ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ï¼ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã«ä¸€è‡´ã—ãªã„å ´åˆå¤±æ•—ï¼‰</span>
<span class="keyword">const</span> goodMatch = bodyText.<span class="function">match</span>(/è‰¯ã„[^\d]*([0-9,]+)/);
<span class="comment">// â†‘ ã€Œè‰¯ã„ã€ã¨æ•°å­—ã®é–“ã«äºˆæœŸã—ãªã„æ–‡å­—ãŒã‚ã‚‹ã¨å¤±æ•—</span>
            </div>

            <h4>ã¿ã¡ã‚ƒã£ãŸå›ã®æ”¹å–„æ¸ˆã¿ãƒ­ã‚¸ãƒƒã‚¯</h4>
            <div class="code-example">
<span class="highlight"><span class="comment">// æ–¹æ³•1ï¼ˆæœ€å„ªå…ˆï¼‰: data-testid="seller-link" ã‹ã‚‰å–å¾—</span></span>
<span class="keyword">const</span> sellerLink = document.<span class="function">querySelector</span>(<span class="string">'[data-testid="seller-link"]'</span>);
<span class="keyword">if</span> (sellerLink) {
  <span class="keyword">const</span> sellerText = sellerLink.innerText;
  <span class="keyword">const</span> allNumbers = sellerText.<span class="function">match</span>(/\d+/g);
  <span class="comment">// allNumbers = ["873", "871", "2"] â†’ åˆè¨ˆ=873, è‰¯ã„=871, æ‚ªã„=2</span>
}
            </div>

            <div class="alert info">
              <strong>ãƒã‚¤ãƒ³ãƒˆ:</strong> data-testidå±æ€§ã¯ãƒ¡ãƒ«ã‚«ãƒªãŒå†…éƒ¨ãƒ†ã‚¹ãƒˆç”¨ã«ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚¯ãƒ©ã‚¹åã‚ˆã‚Šå®‰å®šã—ã¦ã„ã¾ã™ã€‚
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- å•é¡Œãƒ‘ã‚¿ãƒ¼ãƒ³2 -->
    <div class="section">
      <div class="section-header analysis">ğŸ” å•é¡Œãƒ‘ã‚¿ãƒ¼ãƒ³2: æ•°å€¤ãŒé–“é•ã£ã¦ã„ã‚‹</div>
      <div class="section-body">

        <div class="problem-pattern">
          <div class="problem-pattern-header">
            <div class="icon">ğŸ”¢</div>
            <div>
              <h3>åŸå› : è©•ä¾¡ä»¶æ•°ã®è¿‘ãã«åˆ¥ã®æ•°å€¤ãŒã‚ã‚‹</h3>
              <span class="badge high">ç™ºç”Ÿé »åº¦: ä¸­</span>
            </div>
          </div>
          <div class="problem-pattern-body">

            <h4>å•é¡ŒãŒç™ºç”Ÿã™ã‚‹DOMæ§‹é€ ã®ä¾‹</h4>
            <div class="dom-structure">
<span class="tag">&lt;a</span> <span class="attr">data-testid</span>=<span class="value">"seller-link"</span><span class="tag">&gt;</span>
  <span class="content">CLOVERâ€ ãƒ•ã‚©ãƒ­ãƒ¼å‰²å¼•ãƒ»ã¾ã¨ã‚å‰²å¼•</span>
  <span class="content highlight">  <strong>1500</strong>        â† ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ï¼ˆèª¤å–å¾—ã®åŸå› ï¼‰</span>
  <span class="content">  <strong>873</strong>         â† è©•ä¾¡åˆè¨ˆï¼ˆæ­£ã—ã„å€¤ï¼‰</span>
  <span class="content">   871  2       â† è‰¯ã„è©•ä¾¡ã€æ‚ªã„è©•ä¾¡</span>
  <span class="content">  æœ¬äººç¢ºèªæ¸ˆ</span>
<span class="tag">&lt;/a&gt;</span>
            </div>

            <h4>ç¾åœ¨ã®ã¨ã‚Šã“ã¿å›ã®ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆå•é¡Œã‚ã‚Šï¼‰</h4>
            <div class="code-example">
<span class="keyword">const</span> nums = [...spans]
  .<span class="function">map</span>(x => <span class="function">parseInt</span>((x.textContent || <span class="string">''</span>).<span class="function">replace</span>(/[^\d]/g, <span class="string">''</span>)))
  .<span class="function">filter</span>(n => !Number.<span class="function">isNaN</span>(n) && n > <span class="number">0</span> && n < <span class="number">100000</span>);

<span class="keyword">if</span> (nums.length >= <span class="number">2</span>) {
  good = nums[<span class="number">0</span>];  <span class="comment">// â† æœ€åˆã®æ•°å€¤ã‚’ã€Œè‰¯ã„ã€ã¨ä»®å®šï¼ˆå±é™ºï¼ï¼‰</span>
  bad = nums[<span class="number">1</span>];   <span class="comment">// â† 2ç•ªç›®ã‚’ã€Œæ‚ªã„ã€ã¨ä»®å®šï¼ˆå±é™ºï¼ï¼‰</span>
}
            </div>

            <h4>æ”¹å–„æ¡ˆ: æ•°å€¤ã®æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯</h4>
            <div class="code-example">
<span class="comment">// åˆè¨ˆ = è‰¯ã„ + æ‚ªã„ (+ æ™®é€š) ã‚’æ¤œè¨¼</span>
<span class="keyword">if</span> (allNumbers.length >= <span class="number">3</span>) {
  <span class="keyword">const</span> total = <span class="function">parseInt</span>(allNumbers[<span class="number">0</span>]);
  <span class="keyword">const</span> good = <span class="function">parseInt</span>(allNumbers[<span class="number">1</span>]);
  <span class="keyword">const</span> bad = <span class="function">parseInt</span>(allNumbers[<span class="number">2</span>]);

  <span class="comment">// æ¤œè¨¼: åˆè¨ˆã¨å†…è¨³ãŒä¸€è‡´ã™ã‚‹ã‹</span>
  <span class="keyword">if</span> (Math.<span class="function">abs</span>(total - (good + bad)) <= <span class="number">1</span>) {
    <span class="comment">// ä¸€è‡´ â†’ æ­£ã—ã„å€¤</span>
  } <span class="keyword">else</span> {
    <span class="comment">// ä¸ä¸€è‡´ â†’ æœ€åˆã®æ•°å€¤ã¯è©•ä¾¡ã§ã¯ãªã„å¯èƒ½æ€§</span>
    <span class="comment">// â†’ ä»–ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è©¦ã™</span>
  }
}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- å•é¡Œãƒ‘ã‚¿ãƒ¼ãƒ³3 -->
    <div class="section">
      <div class="section-header analysis">ğŸ” å•é¡Œãƒ‘ã‚¿ãƒ¼ãƒ³3: å–å¾—ã§ããªã„ã‚±ãƒ¼ã‚¹</div>
      <div class="section-body">

        <div class="problem-pattern">
          <div class="problem-pattern-header">
            <div class="icon">â³</div>
            <div>
              <h3>åŸå› : DOMæ§‹é€ ã®å‹•çš„å¤‰åŒ– / ãƒ­ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒŸãƒ³ã‚°</h3>
              <span class="badge medium">ç™ºç”Ÿé »åº¦: ä½ã€œä¸­</span>
            </div>
          </div>
          <div class="problem-pattern-body">

            <h4>ãƒ¡ãƒ«ã‚«ãƒªã¯SPAï¼ˆSingle Page Applicationï¼‰</h4>
            <div class="alert warning">
              <strong>SPAã®ç‰¹å¾´:</strong>
              <ul style="margin-top: 10px;">
                <li>ãƒšãƒ¼ã‚¸é·ç§»æ™‚ã«HTMLã‚’ã™ã¹ã¦å†èª­ã¿è¾¼ã¿ã—ãªã„</li>
                <li>JavaScriptã§å‹•çš„ã«DOMã‚’æ§‹ç¯‰</li>
                <li>è©•ä¾¡æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã“ã¨ãŒã‚ã‚‹</li>
              </ul>
            </div>

            <h4>è§£æ±ºç­–: MutationObserverã«ã‚ˆã‚‹ç›£è¦–</h4>
            <div class="code-example">
<span class="comment">// è©•ä¾¡è¦ç´ ãŒæŒ¿å…¥ã•ã‚Œã‚‹ã¾ã§å¾…æ©Ÿ</span>
<span class="keyword">function</span> <span class="function">waitForSellerLink</span>(timeout = <span class="number">5000</span>) {
  <span class="keyword">return new</span> <span class="function">Promise</span>((resolve, reject) => {
    <span class="comment">// æ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã¯å³åº§ã«è¿”ã™</span>
    <span class="keyword">const</span> existing = document.<span class="function">querySelector</span>(<span class="string">'[data-testid="seller-link"]'</span>);
    <span class="keyword">if</span> (existing) {
      <span class="function">resolve</span>(existing);
      <span class="keyword">return</span>;
    }

    <span class="comment">// MutationObserverã§ç›£è¦–</span>
    <span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="function">MutationObserver</span>((mutations) => {
      <span class="keyword">const</span> sellerLink = document.<span class="function">querySelector</span>(<span class="string">'[data-testid="seller-link"]'</span>);
      <span class="keyword">if</span> (sellerLink) {
        observer.<span class="function">disconnect</span>();
        <span class="function">resolve</span>(sellerLink);
      }
    });

    observer.<span class="function">observe</span>(document.body, { childList: <span class="keyword">true</span>, subtree: <span class="keyword">true</span> });

    <span class="comment">// ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ</span>
    <span class="function">setTimeout</span>(() => {
      observer.<span class="function">disconnect</span>();
      <span class="function">reject</span>(<span class="keyword">new</span> <span class="function">Error</span>(<span class="string">'seller-link not found'</span>));
    }, timeout);
  });
}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ã¿ã¡ã‚ƒã£ãŸå› vs ã¨ã‚Šã“ã¿å› æ¯”è¼ƒ -->
    <div class="section">
      <div class="section-header compare">ğŸ“‹ è©•ä¾¡å–å¾—ãƒ­ã‚¸ãƒƒã‚¯æ¯”è¼ƒ</div>
      <div class="section-body">

        <table class="compare-table">
          <thead>
            <tr>
              <th>é …ç›®</th>
              <th>ã¿ã¡ã‚ƒã£ãŸå› v3.1.1</th>
              <th>ã¨ã‚Šã“ã¿å› v1.2.2</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>é€šå¸¸ãƒ¡ãƒ«ã‚«ãƒª æ–¹æ³•1</strong></td>
              <td class="good">data-testid="seller-link" ã‹ã‚‰å–å¾—<br>ï¼ˆæœ€ã‚‚ä¿¡é ¼æ€§ãŒé«˜ã„ï¼‰</td>
              <td class="bad">#furima-assist-seller-ratings<br>ï¼ˆãƒ•ãƒªãƒã‚¢ã‚·ã‚¹ãƒˆä¾å­˜ï¼‰</td>
            </tr>
            <tr>
              <td><strong>é€šå¸¸ãƒ¡ãƒ«ã‚«ãƒª æ–¹æ³•2</strong></td>
              <td class="good">#furima-assist-seller-ratings<br>ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰</td>
              <td class="bad">[class*="Rating"] span<br>ï¼ˆã‚»ãƒ¬ã‚¯ã‚¿ãŒä¸å®‰å®šï¼‰</td>
            </tr>
            <tr>
              <td><strong>ãƒ¡ãƒ«ã‚«ãƒªã‚·ãƒ§ãƒƒãƒ—</strong></td>
              <td class="good">data-testid="shops-information"<br>ã‹ã‚‰æ•°å€¤æŠ½å‡º</td>
              <td class="bad">ãƒ†ã‚­ã‚¹ãƒˆãƒãƒƒãƒãƒ³ã‚°<br>ï¼ˆã€Œå„ªè‰¯ã‚·ãƒ§ãƒƒãƒ—ã€ã€Œãƒ¡ãƒ«ã‚«ãƒªShopsã€å‰ã®æ•°å­—ï¼‰</td>
            </tr>
            <tr>
              <td><strong>æ•°å€¤æ¤œè¨¼</strong></td>
              <td class="good">åˆè¨ˆ = è‰¯ã„ + æ‚ªã„ ã‚’æ¤œè¨¼</td>
              <td class="bad">æ¤œè¨¼ãªã—ï¼ˆæœ€åˆã®æ•°å€¤ã‚’æ¡ç”¨ï¼‰</td>
            </tr>
            <tr>
              <td><strong>ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯</strong></td>
              <td class="good">3æ®µéšã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯</td>
              <td>3æ®µéšã ãŒé †åºãŒä¸é©åˆ‡</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- è©•ä¾¡å–å¾—ãƒ•ãƒ­ãƒ¼ -->
    <div class="section">
      <div class="section-header solution">ğŸ”„ æ¨å¥¨: è©•ä¾¡å–å¾—ãƒ•ãƒ­ãƒ¼</div>
      <div class="section-body">

        <div class="flowchart">
          <div class="flow-step">ãƒšãƒ¼ã‚¸ç¨®åˆ¥åˆ¤å®š<br>é€šå¸¸ãƒ¡ãƒ«ã‚«ãƒª or ã‚·ãƒ§ãƒƒãƒ—</div>
          <div class="flow-arrow">â†“</div>

          <div class="flow-branch">
            <div>
              <div class="flow-branch-label">é€šå¸¸ãƒ¡ãƒ«ã‚«ãƒª</div>
              <div class="flow-step success">data-testid="seller-link"<br>ã‹ã‚‰æ•°å€¤æŠ½å‡º</div>
            </div>
            <div>
              <div class="flow-branch-label">ã‚·ãƒ§ãƒƒãƒ—</div>
              <div class="flow-step success">data-testid="shops-information"<br>ã‹ã‚‰æ•°å€¤æŠ½å‡º</div>
            </div>
          </div>

          <div class="flow-arrow">â†“ å¤±æ•—æ™‚</div>
          <div class="flow-step fallback">#furima-assist-seller-ratings<br>ï¼ˆãƒ•ãƒªãƒã‚¢ã‚·ã‚¹ãƒˆé€£æºï¼‰</div>

          <div class="flow-arrow">â†“ å¤±æ•—æ™‚</div>
          <div class="flow-step fallback">ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢<br>ã€Œè‰¯ã„ã€ã€Œæ‚ªã„ã€ãƒ‘ã‚¿ãƒ¼ãƒ³</div>

          <div class="flow-arrow">â†“ å¤±æ•—æ™‚</div>
          <div class="flow-step fail">è©•ä¾¡å–å¾—å¤±æ•—<br>ï¼ˆç©ºæ–‡å­—ã‚’è¿”ã™ï¼‰</div>
        </div>
      </div>
    </div>

    <!-- æ”¹å–„ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ -->
    <div class="section">
      <div class="section-header solution">âœ… æ”¹å–„ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</div>
      <div class="section-body">
        <ul class="checklist">
          <li class="done">ã¿ã¡ã‚ƒã£ãŸå›: data-testid="seller-link" ã‹ã‚‰ã®å–å¾—ã‚’å®Ÿè£…</li>
          <li class="done">ã¿ã¡ã‚ƒã£ãŸå›: data-testid="shops-information" ã‹ã‚‰ã®å–å¾—ã‚’å®Ÿè£…</li>
          <li class="done">ã¿ã¡ã‚ƒã£ãŸå›: æ•°å€¤æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆåˆè¨ˆ=è‰¯ã„+æ‚ªã„ï¼‰ã‚’å®Ÿè£…</li>
          <li>ã¨ã‚Šã“ã¿å›: data-testid="seller-link" ã‹ã‚‰ã®å–å¾—ã‚’è¿½åŠ </li>
          <li>ã¨ã‚Šã“ã¿å›: data-testid="shops-information" ã‹ã‚‰ã®å–å¾—ã‚’è¿½åŠ </li>
          <li>ã¨ã‚Šã“ã¿å›: æ•°å€¤æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ </li>
          <li>ã¨ã‚Šã“ã¿å›: MutationObserverã«ã‚ˆã‚‹å¾…æ©Ÿã‚’è¿½åŠ </li>
          <li>ä¸¡æ‹¡å¼µæ©Ÿèƒ½: å–å¾—å¤±æ•—æ™‚ã®ãƒ­ã‚°å‡ºåŠ›ã‚’å¼·åŒ–</li>
        </ul>
      </div>
    </div>

    <!-- ãƒ‡ãƒãƒƒã‚°æ–¹æ³• -->
    <div class="section">
      <div class="section-header debug">ğŸ› ãƒ‡ãƒãƒƒã‚°æ–¹æ³•</div>
      <div class="section-body">

        <h4>1. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§è©•ä¾¡è¦ç´ ã‚’ç¢ºèª</h4>
        <div class="code-example">
<span class="comment">// é€šå¸¸ãƒ¡ãƒ«ã‚«ãƒª</span>
document.<span class="function">querySelector</span>(<span class="string">'[data-testid="seller-link"]'</span>)?.innerText

<span class="comment">// ãƒ¡ãƒ«ã‚«ãƒªã‚·ãƒ§ãƒƒãƒ—</span>
document.<span class="function">querySelector</span>(<span class="string">'[data-testid="shops-information"]'</span>)?.innerText

<span class="comment">// ãƒ•ãƒªãƒã‚¢ã‚·ã‚¹ãƒˆ</span>
document.<span class="function">querySelector</span>(<span class="string">'#furima-assist-seller-ratings'</span>)?.innerText
        </div>

        <h4>2. æ•°å€¤æŠ½å‡ºã®ãƒ†ã‚¹ãƒˆ</h4>
        <div class="code-example">
<span class="keyword">const</span> text = document.<span class="function">querySelector</span>(<span class="string">'[data-testid="seller-link"]'</span>)?.innerText;
<span class="keyword">const</span> numbers = text?.<span class="function">match</span>(/\d+/g);
console.<span class="function">log</span>(<span class="string">'æŠ½å‡ºã•ã‚ŒãŸæ•°å€¤:'</span>, numbers);
<span class="comment">// æœŸå¾…å€¤: ["873", "871", "2"] ã®ã‚ˆã†ãªé…åˆ—</span>
        </div>

        <h4>3. æ‹¡å¼µæ©Ÿèƒ½ã®ãƒ­ã‚°ã‚’ç¢ºèª</h4>
        <div class="alert info">
          <strong>ç¢ºèªæ‰‹é †:</strong>
          <ol style="margin-top: 10px;">
            <li>Chrome DevTools ã‚’é–‹ãï¼ˆF12ï¼‰</li>
            <li>Console ã‚¿ãƒ–ã‚’é¸æŠ</li>
            <li>ã€ŒgetSellerRatingã€ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°</li>
            <li>è©•ä¾¡å–å¾—ã®ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
          </ol>
        </div>
      </div>
    </div>

  </div>
</body>
</html>
